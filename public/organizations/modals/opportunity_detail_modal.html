<!-- Tabs Menu -->
<div class="tabfix">
<md-tabs class="md-primary" md-selected="data.selectedIndex">
  <md-tab id="tab1" aria-controls="tab1-content">
    Dashboard
  </md-tab>
  <md-tab id="tab2" aria-controls="tab2-content">
    Scheduler
  </md-tab>
  <md-tab id="tab3" aria-controls="tab3-content">
    Volunteers
  </md-tab>
  <md-tab id="tab4" aria-controls="tab4-content">
    Additional Information
  </md-tab>
</md-tabs>
</div>

<!-- Event Information -->
<ng-switch on="data.selectedIndex" class="tabpanel-container">
<md-content class="md-padding diacontent">

  <div role="tabpanel"
       aria-labelledby="tab1"
       ng-switch-when="0"
       md-swipe-left="next()"
       md-swipe-right="previous()" >

    <div class="row opportunity-information">
      <div class="col-xs-12">
        <edit-object-directive
          text_name="name"
          model-type="opportunity"
          attribute-name="name"
          model-id="{{opportunity.id}}"
          text="{{opportunity.name}}"
          size="title_text"

          ></edit-object-directive><br>


        <edit-object-directive
          model-type="opportunity"
          attribute-name="description"
          model-id="{{opportunity.id}}"
          text="{{opportunity.description}}"
          size="paragraph_text"

          ></edit-object-directive><br>
        <!--<edit-address
          address="{{opportunity.address}}"
          zip-code="{{opportunity.zip_code}}"
          state="{{opportunity.state}}"
          city="{{opportunity.city}}"
          model-id="{{opportunity.id}}"
          address-type="opportunity"
          >

        </edit-address>-->
        <br>

        <!--<p style="display: inline-block">Volunteers Required:</p>
        <edit-object-directive
          model-type="opportunity"
          attribute-name="volunteer_goal"
          model-id="{{opportunity.id}}"
          text="{{opportunity.volunteer_goal}}"
          size="subtitle_text"
          ></edit-object-directive><br>-->
      </div>
    </div>


    <div class="opportunity-dashboard">
      <div class="row">
        <div class="col-xs-3">
          <h2 class="opportunity-dashboard-statistic">{{opportunity.total_recorded_hours}}</h2>
          <h4 class="opportunity-dashboard-label">Total Hours</h4>
        </div>
        <div class="col-xs-3">
          <h2 class="opportunity-dashboard-statistic">{{opportunity.selected_instance_recorded_hours}}</h2>
          <h4 class="opportunity-dashboard-label">Hours This Instance</h4>
        </div>
        <div class="col-xs-3">
          <h2 class="opportunity-dashboard-statistic">{{opportunity.total_people_recording}}</h2>
          <h4 class="opportunity-dashboard-label">Volunteers</h4>
        </div>
        <div class="col-xs-3">
          <h2 class="opportunity-dashboard-statistic">{{opportunity.selected_instance_people_recording}}</h2>
          <h4 class="opportunity-dashboard-label">Volunteers This Instance</h4>
        </div>
      </div>
      <div class="row">
        <highchart config="instanceStatisticGraphConfig"></highchart>
      </div>
    </div>

  </div>

  <!-- Opportunity Schedule -->
  <div role="tabpanel"
       ng-switch-when="1"
       md-swipe-left="next()"
       md-swipe-right="previous()" >

    <object-schedule
      object-type="opportunity"
      object="opportunity"
      ></object-schedule>

  </div>

  <div role="tabpanel"
       id="create-person-record"
       ng-switch-when="2"
       md-swipe-left="next()"
       md-swipe-right="previous()" >
    <div class="row">
      <div class="col-md-6">
        <button
          class="btn btn-default btn-block"
          ng-csv="getArray()"
          style="margin-top: 26%;"
          filename="{{opportunity.name}}_volunteers.csv"
          csv-header="['First Name', 'Last Name', 'Email Address', 'Hours Recorded']">
          Export To CSV</button>
      </div>
      <div class="col-md-6" style="position: relative">
        <highchart ng-show="opportunity.opportunity_roles.length != 0" config="opportunityRolesChart"></highchart>
      </div>

    </div>
    <md-list class="opportunity-volunteer-list">
      <md-list-item class="md-2-line" ng-repeat="volunteer in opportunity.volunteers">
        <div class="md-list-item-text">
          <div class="volunteer-text">
            <h3>{{volunteer.first_name}} {{volunteer.last_name}}</h3>
            <p>{{volunteer.email}}</p>
          </div>
          <h2>{{volunteer.opportunity_hours}}</h2>
        </div>
      </md-list-item>
    </md-list>



  </div>

  <div role="tabpanel"
       id="additional-resources"
       ng-switch-when="3"
       md-swipe-left="next()"
       md-swipe-right="previous()" >
    <md-list layout="column">
      <md-item>
        <h2>Resources</h2>
        <add-resources></add-resources>
      </md-item>
      <md-item>
        <h2>Opportunity Mailers</h2>
        <email-template-preview></email-template-preview>
      </md-item>
      <md-item>
        <h2>These Links Can Be Used to Register and Sign In Volunteers at the Opportunity:</h2>
        <a ui-sref="registration_form({opportunity_Id:opportunity.id})">
          Registration Form for Opportunity</a>
        <br>
        <a ui-sref="sign_in_form({opportunity_Id:opportunity.id})">
          Sign In Form for Opportunity</a>
      </md-item>
    </md-list>

  </div>
    </md-content>
</ng-switch>

